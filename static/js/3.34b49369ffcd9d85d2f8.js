webpackJsonp([3],{"8O0f":function(t,e){},K5sc:function(t,e){},jPSE:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),o=s.n(n),a=s("NYxO"),c=s("gyMJ"),m={name:"CommentItem",props:{list:{type:Array,default:function(){return{}}}},computed:{},methods:{MUserUrl:function(t){return"https://music.163.com/#/user/home?id="+t},MTime:function(t){var e=new Date;return t.getFullYear()==e.getFullYear()?t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()?e.getTime()-t.getTime()<36e5?t.getMinutes()==e.getMinutes()?"刚刚":Math.floor((e.getTime()-t.getTime())/6e4)+"分钟前":(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()):t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()-1?"昨天"+(t.getHours<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()):t.getMonth()+1+"月"+t.getDate()+"日 "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()):t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日 "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},MLikedCount:function(t){return t>1e5?(t/1e4).toFixed(1)+"万":t}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},t._l(t.list,function(e,n){return s("div",{key:n,staticClass:"list_item"},[s("div",{staticClass:"item_user_avatar"},[s("div",[s("img",{staticClass:"avatar_pic",attrs:{src:e.commentUser.avatarUrl}})])]),t._v(" "),s("div",{staticClass:"item_main"},[s("div",{staticClass:"item_main__content"},[s("a",{staticClass:"item_user_nickname",attrs:{href:t.MUserUrl(e.commentUser.userId),target:"_blank",rel:"noopener"}},[t._v(t._s(e.commentUser.nickname))]),t._v(" "),s("span",{staticClass:"item_content_comment"},[t._v(t._s(" : "+e.content))])]),t._v(" "),e.isRepliedFor?s("div",{staticClass:"item_replied_main"},[s("span",{staticClass:"item_replied_icon"}),t._v(" "),s("a",{staticClass:"item_replied_user_nickname",attrs:{href:t.MUserUrl(e.parentCommentUser.userId),target:"_blank",rel:"noopener"}},[t._v(t._s(e.parentCommentUser.nickname))]),t._v(" "),s("span",{staticClass:"item_replied_content"},[t._v(t._s(" : "+e.parentCommentContent))])]):t._e(),t._v(" "),s("div",{staticClass:"item_main__footer"},[s("div",{staticClass:"footer__time"},[t._v(t._s(t.MTime(e.commentTime)))]),t._v(" "),s("div",{staticClass:"footer__liked"},[s("i",{staticClass:"liked_icon"}),t._v(" "),s("span",{staticClass:"liked_number"},[t._v(t._s(t.MLikedCount(e.likedCount)))])])])])])}),0)},staticRenderFns:[]};var r=s("VU/8")(m,i,!1,function(t){s("K5sc")},"data-v-63f8ef84",null).exports,u=s("QE3G"),_={name:"Comment",components:{CommentItem:r},computed:o()({},Object(a.c)({comments:function(t){return t.comment.comments}}),{CCurrentPage:function(){return this.comments.offset+1},CEndPage:function(){var t=Math.ceil(this.comments.totalCount/20);return t>5001?5001:t}}),methods:o()({},Object(a.b)(["setComments"]),{MBackToBeginning:function(){var t=this;Object(c.d)(this.comments.musicId).then(function(e){t.setComments(Object(u.b)(e.data,t.comments.musicId,0))}).catch(function(t){console.error(t.message)}),document.getElementById("comment").scrollTop=0},MPreviousPage:function(){var t=this;Object(c.d)(this.comments.musicId,this.comments.offset-1).then(function(e){t.setComments(Object(u.b)(e.data,t.comments.musicId,t.comments.offset-1))}).catch(function(t){console.error(t.message)}),document.getElementById("comment").scrollTop=0},MNextPage:function(){var t=this;Object(c.d)(this.comments.musicId,this.comments.offset+1).then(function(e){t.setComments(Object(u.b)(e.data,t.comments.musicId,t.comments.offset+1))}).catch(function(t){console.error(t.message)}),document.getElementById("comment").scrollTop=0},MGoToEnd:function(){var t=this;this.comments.totalCount/20>5e3?Object(c.d)(this.comments.musicId,5e3,0).then(function(e){t.setComments(Object(u.b)(e.data,t.comments.musicId,5e3))}).catch(function(t){console.error(t.message)}):Object(c.d)(this.comments.musicId,Math.floor(this.comments.totalCount/20)).then(function(e){t.setComments(Object(u.b)(e.data,t.comments.musicId,Math.floor(t.comments.totalCount/20)))}).catch(function(t){console.error(t.message)}),document.getElementById("comment").scrollTop=0}})},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subpage_viewport",attrs:{id:"comment"}},[0==t.comments.offset&&t.comments.hotComments?s("div",{staticClass:"hot_comment"},[s("div",{staticClass:"hot_comment__title"},[t._v("热门评论")]),t._v(" "),s("CommentItem",{attrs:{list:t.comments.hotComments}})],1):t._e(),t._v(" "),t.comments.comments?s("div",{staticClass:"new_comment"},[s("div",{staticClass:"new_comment__title"},[s("span",[t._v("最新评论")]),t._v(" "),s("span",[t._v("（"+t._s(t.comments.totalCount)+"）")])]),t._v(" "),s("CommentItem",{attrs:{list:t.comments.comments}})],1):t._e(),t._v(" "),t.comments.totalCount?s("div",{staticClass:"comment_footer"},[t.comments.totalCount>20&&t.CCurrentPage>1?s("span",{staticClass:"footer__page__start",on:{click:function(e){return t.MBackToBeginning()}}},[t._v("<<")]):t._e(),t._v(" "),t.comments.totalCount>20&&t.CCurrentPage>1?s("span",{staticClass:"footer__page__previous",on:{click:function(e){return t.MPreviousPage()}}},[t._v("<")]):t._e(),t._v(" "),s("span",{staticClass:"footer__page__current"},[t._v(t._s(t.CCurrentPage))]),t._v(" "),s("span",[t._v("/")]),t._v(" "),s("span",{staticClass:"footer__page__total"},[t._v(t._s(t.CEndPage))]),t._v(" "),t.CCurrentPage<t.CEndPage?s("span",{staticClass:"footer__page__next",on:{click:function(e){return t.MNextPage()}}},[t._v(">")]):t._e(),t._v(" "),t.CCurrentPage<t.CEndPage?s("span",{staticClass:"footer__page__end",on:{click:function(e){return t.MGoToEnd()}}},[t._v(">>")]):t._e()]):t._e()])},staticRenderFns:[]};var d=s("VU/8")(_,l,!1,function(t){s("8O0f")},"data-v-af7d0f44",null);e.default=d.exports}});